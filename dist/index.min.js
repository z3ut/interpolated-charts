!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports["interpolated-charts"]=e(require("d3")):t["interpolated-charts"]=e(t.d3)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=11)}([function(e,n){e.exports=t},function(t,e,n){"use strict";function r(){function t(t){return{value:arguments.length?o[t]=o[t]||e():e(),done:!1}}function e(){var t=r[i];return i=(i+1)%r.length,t}function n(t){return arguments.length?(r=t,i=0,this):r}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,i=0,o={};return{next:t,schema:n}}Object.defineProperty(e,"__esModule",{value:!0});var a=["#6aedc7","#39c2c9","#ffce00","#ffa71a","#f866b9","#998ce3"];e.colorProvider=r,e.defaultColorSchema=a},function(t,e,n){"use strict";function r(){function t(t){var e=Date.now(),o=e-i;if(i&&o<r)return a&&clearTimeout(a),void(a=setTimeout(n.bind(null,t),r-o));n(t)}function e(){a&&clearTimeout(a)}function n(t){i=Date.now(),t()}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,a=void 0,i=void 0;return{call:t,clear:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";function r(t,e){return new Date(t.getTime()+e)}function a(t,e){return new Date((t.getTime()+e.getTime())/2)}function i(t,e,n){return Math.min(Math.max(t,e),n)}Object.defineProperty(e,"__esModule",{value:!0}),e.getDatePlusTime=r,e.getAverageDate=a,e.boundNumberToRange=i},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(){function t(r){r.each(function(r){I=t.chartWidth(),N=t.chartHeight(),h(this),e(r),n(),a(),i(),l(),d(),f(),p()})}function e(t){var e=[].concat.apply([],t.map(function(t){return t.data})).map(function(t){return t.date});G=S||o.min(e);var n=H||o.max(e),r=0;J=G;do{!function(){var e=J;J=(0,c.getDatePlusTime)(J,L);var n=(0,c.getAverageDate)(e,J);r++;var a={dataSum:0,dateFrom:e,dateTo:J,date:n,data:[]},i=t.map(function(t){return{name:t.name,color:t.color||tt.next(t.name),data:t.data.filter(function(t){return e<=t.date&&t.date<J})}}).reduce(function(t,r){var a={name:r.name,value:r.data.reduce(function(t,e){return"number"==typeof e.value?t+e.value:t},null),previousValueSum:t.dataSum,color:r.color,date:n,dateFrom:e,dateTo:J};return t.dataSum+=a.value,t.data.push(a),t},a);U.push(i)}()}while(J<n);K=o.max(U.map(function(t){return o.sum(t.data,function(t){return t.value})})),Z=O(I,r),$=Math.round(I/r)}function n(){q=o.scaleTime().domain([G,J]).range([0,I]);var t=V||0,e="number"==typeof R?R:1.05*K;X=o.scaleLinear().domain([t,e]).range([N,0])}function a(){Q=o.axisBottom(q),B&&Q.tickFormat(B),Y=o.axisLeft(X),W&&Y.tickFormat(W)}function i(){z.select(".x-axis-container").append("g").classed("x-axis",!0).attr("transform","translate(0, "+N+")").call(Q),z.select(".y-axis-container").append("g").classed("y-axis",!0).call(Y)}function l(){z.select(".grid-container").selectAll(".horizontal-grid-line").data(X.ticks()).enter().append("line").classed("horizontal-grid-line",!0).attr("x1",0).attr("x2",I).attr("y1",function(t){return X(t)}).attr("y2",function(t){return X(t)}),z.select(".grid-container").selectAll(".vertical-grid-line").data(q.ticks()).enter().append("line").classed("vertical-grid-line",!0).attr("x1",function(t){return q(t)}).attr("x2",function(t){return q(t)}).attr("y1",0).attr("y2",N)}function d(){var t=z.select(".data-bar-container").selectAll(".bar").data(U).enter().append("g");t.append("rect").classed("stack-background",!0).attr("x",function(t){return q(t.date)}).attr("y",0).attr("width",$).attr("height",N).attr("transform","translate(-"+$/2+", 0)"),t.selectAll(".stack").data(function(t){return t.data}).enter().append("rect").classed("stack",!0).attr("class","bar").attr("x",function(t){return q(t.date)}).attr("y",function(t){return X(t.value+t.previousValueSum)}).attr("width",Z).attr("height",function(t){return Math.max(N-X(t.value),0)}).attr("transform","translate(-"+Z/2+", 0)").attr("fill",function(t){return t.color})}function f(){var t=z.append("rect").style("fill","white").attr("width",I).attr("height",N).attr("transform","translate("+P.left+", "+P.top+")").attr("x",0).attr("y",0);t.transition().duration(1e3).ease(o.easeQuadInOut).attr("x",I).on("end",function(){return t.remove()})}function h(t){z||(z=o.select(t).append("svg").classed("bar-chart",!0),v()),z.attr("width",T).attr("height",w)}function v(){var t=z.append("g").classed("container-group",!0).attr("transform","translate("+P.left+", "+P.top+")");t.append("g").classed("grid-container",!0),t.append("g").classed("x-axis-container",!0),t.append("g").classed("y-axis-container",!0),t.append("g").classed("data-bar-container",!0),t.append("g").classed("metadata-container",!0)}function p(){z.on("mousemove",m),z.on("mouseenter",x),z.on("mouseleave",y),z.on("click",g)}function m(){var t=M.apply(void 0,r(o.mouse(this)));et.call(s.chartMouseMove,this,t)}function g(){var t=M.apply(void 0,r(o.mouse(this)));et.call(s.chartMouseClick,this,t)}function x(){et.call.apply(et,[s.chartMouseEnter].concat(r(o.mouse(this))))}function y(){et.call.apply(et,[s.chartMouseLeave].concat(r(o.mouse(this))))}function M(t,e){t=(0,c.boundNumberToRange)(t-P.left,0,I),e=(0,c.boundNumberToRange)(e-P.top,0,N);for(var n=b(t),r=q.invert(t),a=G,i=(0,c.getDatePlusTime)(a,L);r>i;)a=i,i=(0,c.getDatePlusTime)(a,L);return{x:t,y:e,selectedDate:r,diapasonStart:a,diapasonEnd:i,data:n}}function b(t){var e=q.invert(t);return U.find(function(t){return t.dateFrom<=e&&e<=t.dateTo}).data}var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=k.width,T=void 0===A?700:A,D=k.height,w=void 0===D?500:D,_=k.margin,P=void 0===_?{top:20,right:30,bottom:40,left:40}:_,F=k.setStackWidth,O=void 0===F?function(t,e){return t/e-20}:F,C=k.maxTimeRangeDifferenceToDraw,j=void 0===C?1296e5:C,E=k.stackTimeDiapason,L=void 0===E?864e5:E,B=k.xAxisTimeFormat,W=k.yAxisValueFormat,S=k.xAxisDateFrom,H=k.xAxisDateTo,V=k.yAxisValueFrom,R=k.yAxisValueTo,z=void 0,I=void 0,N=void 0,Q=void 0,Y=void 0,q=void 0,X=void 0,G=void 0,J=void 0,K=void 0,U=[],Z=void 0,$=void 0,tt=(0,u.colorProvider)(),et=o.dispatch(s.chartMouseEnter,s.chartMouseLeave,s.chartMouseMove,s.chartMouseClick);return t.width=function(t){return arguments.length?(T=t,this):T},t.height=function(t){return arguments.length?(w=t,this):w},t.margin=function(t){return arguments.length?(P=t,this):P},t.setStackWidth=function(t){return arguments.length?(O=t,this):O},t.on=function(){return et.on.apply(et,arguments),this},t.maxTimeRangeDifferenceToDraw=function(t){return arguments.length?(j=t,this):j},t.stackTimeDiapason=function(t){return arguments.length?(L=t,this):L},t.xAxisTimeFormat=function(t){return arguments.length?(B=t,this):B},t.yAxisValueFormat=function(t){return arguments.length?(W=t,this):W},t.xAxisDateFrom=function(t){return arguments.length?(S=t,this):S},t.xAxisDateTo=function(t){return arguments.length?(H=t,this):H},t.yAxisValueFrom=function(t){return arguments.length?(V=t,this):V},t.curve=function(t){return arguments.length?(R=t,this):R},t.chartHeight=function(){return w-P.top-P.bottom},t.chartWidth=function(){return T-P.left-P.right},t}Object.defineProperty(e,"__esModule",{value:!0}),e.chartEvents=e.bar=void 0;var i=n(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),u=n(1),c=n(3),s={chartMouseEnter:"chartMouseEnter",chartMouseLeave:"chartMouseLeave",chartMouseMove:"chartMouseMove",chartMouseClick:"chartMouseClick"};e.bar=a,e.chartEvents=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(){function t(a){a.each(function(a){G=t.chartWidth(),J=t.chartHeight(),v(this),e(a),n(),r(),i(),o(),s(),d(),m()})}function e(t){tt=t.map(function(t){return t.color=t.color||et.next().value,t.segregatedData=D(t.data),t.chartDiapasons=T(t.data),t})}function n(){var t,e=(t=[]).concat.apply(t,a(tt.map(function(t){return t.data}))),n=e.map(function(t){return t.date}),r=e.map(function(t){return t.value}),i=Y||u.min(n),o=q||u.max(n),c=u.min(r),s=u.max(r);Z=u.scaleTime().domain([i,o]).range([0,G]);var l=.05*(s-c);$=u.scaleLinear().domain([c-l,s+l]).range([J,0])}function r(){K=u.axisBottom(Z),B&&K.tickFormat(B),U=u.axisLeft($),W&&U.tickFormat(W)}function i(){X.select(".x-axis-container").append("g").classed("x-axis",!0).attr("transform","translate(0, "+J+")").call(K),X.select(".y-axis-container").append("g").classed("y-axis",!0).call(U)}function o(){X.select(".grid-container").selectAll(".horizontal-grid-line").data($.ticks()).enter().append("line").classed("horizontal-grid-line",!0).attr("x1",0).attr("x2",G).attr("y1",function(t){return $(t)}).attr("y2",function(t){return $(t)}),X.select(".grid-container").selectAll(".vertical-grid-line").data(Z.ticks()).enter().append("line").classed("vertical-grid-line",!0).attr("x1",function(t){return Z(t)}).attr("x2",function(t){return Z(t)}).attr("y1",0).attr("y2",J)}function s(){var t=u.line().curve(H).defined(function(t){return t}).x(function(t){return Z(t.date)}).y(function(t){return $(t.value)}),e=X.select(".data-lines-container").selectAll(".line").data(tt.reverse());e.enter().append("path").classed("line",!0).style("stroke-width",2).style("fill","none").merge(e).style("stroke",function(t){return t.color}).attr("d",function(e){return t(e.segregatedData)}),e.exit().remove()}function d(){var t=X.append("rect").style("fill","white").attr("width",G).attr("height",J).attr("transform","translate("+j.left+", "+j.top+")").attr("x",0).attr("y",0);t.transition().duration(1e3).ease(u.easeQuadInOut).attr("x",G).on("end",function(){return t.remove()})}function v(t){X||(X=u.select(t).append("svg").classed("line-chart",!0),p()),X.attr("width",P).attr("height",O)}function p(){var t=X.append("g").classed("container-group",!0).attr("transform","translate("+j.left+", "+j.top+")");t.append("g").classed("grid-container",!0),t.append("g").classed("x-axis-container",!0),t.append("g").classed("y-axis-container",!0),t.append("g").classed("data-lines-container",!0),t.append("g").classed("metadata-container",!0)}function m(){X.on("mousemove",g),X.on("mouseenter",M),X.on("mouseleave",b),X.on("click",y)}function g(){var t=u.mouse(this);nt.call(x.bind(this,t))}function x(t){var e=k.apply(void 0,a(t));rt.call(h.chartMouseMove,this,e)}function y(){var t=k.apply(void 0,a(u.mouse(this)));rt.call(h.chartMouseClick,this,t)}function M(){rt.call.apply(rt,[h.chartMouseEnter].concat(a(u.mouse(this))))}function b(){nt.clear(),rt.call.apply(rt,[h.chartMouseLeave].concat(a(u.mouse(this))))}function k(t,e){var n=function(t,e,n){return Math.min(Math.max(t,e),n)};t=n(t-j.left,0,G),e=n(e-j.top,0,J);var r=A(t);return{x:t,y:e,selectedDate:Z.invert(t),data:r}}function A(t){var e=[],n=Z.invert(t);return X.selectAll(".line").each(function(r){var a=r.data.reduce(function(t,e){return!e||Math.abs(t.date-n)<Math.abs(e.date-n)?t:e});if(r.chartDiapasons.some(function(t){return t.from<=n&&n<=t.to})){var i=(0,l.default)(this,t,R,I,at[r.name]),o=i.y,u=i.pathLength;a.x=Z(a.date),a.y=$(a.value),a.interpolatedX=t,a.interpolatedY=o,a.interpolatedDate=Z.invert(t),a.interpolatedValue=$.invert(o),a.name=r.name,a.color=r.color,e.push(a),at[r.name]=u}}),e.reverse()}function T(t){if(!Array.isArray(t)||!t.length)return[];var e=[];return t.reduce(function(t,n){return n.date-t.date<L&&e.push({from:t.date,to:n.date}),n}),e}function D(t){var e=[];return t.forEach(function(t,n,r){if(0===n||n===r.length-1)return void e.push(r[n]);var a=function(t,e){return t.date-e.date>L};a(r[n],r[n-1])&&e.push(null),e.push(r[n]),a(r[n+1],r[n])&&e.push(null)}),e}var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=w.width,P=void 0===_?700:_,F=w.height,O=void 0===F?500:F,C=w.margin,j=void 0===C?{top:20,right:30,bottom:40,left:40}:C,E=w.maxTimeRangeDifferenceToDraw,L=void 0===E?1296e5:E,B=w.xAxisTimeFormat,W=w.yAxisValueFormat,S=w.curve,H=void 0===S?u.curveBasis:S,V=w.interpolationMaxIterationCount,R=void 0===V?25:V,z=w.interpolationAccuracy,I=void 0===z?.005:z,N=w.mouseMoveTimeTreshold,Q=void 0===N?20:N,Y=w.xAxisDateFrom,q=w.xAxisDateTo,X=void 0,G=void 0,J=void 0,K=void 0,U=void 0,Z=void 0,$=void 0,tt=void 0,et=(0,c.colorProvider)(),nt=(0,f.default)(Q),rt=u.dispatch(h.chartMouseEnter,h.chartMouseLeave,h.chartMouseMove,h.chartMouseClick),at={};return t.width=function(t){return arguments.length?(P=t,this):P},t.height=function(t){return arguments.length?(O=t,this):O},t.margin=function(t){return arguments.length?(j=t,this):j},t.on=function(){return rt.on.apply(rt,arguments),this},t.maxTimeRangeDifferenceToDraw=function(t){return arguments.length?(L=t,this):L},t.xAxisTimeFormat=function(t){return arguments.length?(B=t,this):B},t.yAxisValueFormat=function(t){return arguments.length?(W=t,this):W},t.curve=function(t){return arguments.length?(H=t,this):H},t.interpolationMaxIterationCount=function(t){return arguments.length?(R=t,this):R},t.interpolationAccuracy=function(t){return arguments.length?(I=t,this):I},t.mouseMoveTimeTreshold=function(t){return arguments.length?(Q=t,nt.clear(),nt=(0,f.default)(Q),this):Q},t.chartHeight=function(){return O-j.top-j.bottom},t.chartWidth=function(){return P-j.left-j.right},t}Object.defineProperty(e,"__esModule",{value:!0}),e.chartEvents=e.line=void 0;var o=n(0),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),c=n(1),s=n(12),l=r(s),d=n(2),f=r(d),h={chartMouseEnter:"chartMouseEnter",chartMouseLeave:"chartMouseLeave",chartMouseMove:"chartMouseMove",chartMouseClick:"chartMouseClick"};e.line=i,e.chartEvents=h},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(){function t(r){r.each(function(r){Y=t.chartWidth(),q=t.chartHeight(),h(this),e(r),n(),a(),p(),i(),s(),f(),m()})}function e(t){var e=t.length;X=(q-(e-1)*L)/e,K=t.map(function(t){return D(t)})}function n(){var t=[].concat.apply([],K.map(function(t){return t.chartDiapasons}).filter(function(t){return t})).map(function(t){return[t.from,t.to]}),e=[].concat.apply([],t),n=I||o.min(e),r=N||o.max(e);J=o.scaleTime().domain([n,r]).range([0,Y])}function a(){G=o.axisBottom(J),V&&G.tickFormat(V)}function i(){Q.select(".x-axis-container").append("g").classed("x-axis",!0).attr("transform","translate(0, "+q+")").call(G)}function s(){var t=Q.select(".data-stacks-container").selectAll(".stack-holder").data(K),e=function(t){return k(Math.trunc(J(t)),0,Y)},n=t.enter().append("g").classed("stack-holder",!0).merge(t).attr("transform",function(t,e){return"translate(0, "+e*(X+L)+")"}).attr("width",Y).attr("height",X);n.append("rect").attr("x",0).attr("y",0).attr("width",Y).attr("height",X).style("fill",function(t){return t.backgroundColor}),n.selectAll(".stack-holder").data(function(t){return t.chartDiapasons}).enter().append("rect").classed("stack-diapason",!0).attr("x",function(t){return e(t.from)}).attr("y",function(){return 0}).style("fill",function(t){return t.color}).attr("width",function(t){return k(Math.ceil(J(t.to)-J(t.from)),0,Y-e(t.from))}).attr("height",X),t.exit().remove()}function f(){var t=Q.append("rect").style("fill","white").attr("width",Y).attr("height",q).attr("transform","translate("+j.left+", "+j.top+")").attr("x",0).attr("y",0);t.transition().duration(1e3).ease(o.easeQuadInOut).attr("x",Y).on("end",function(){return t.remove()})}function h(t){Q||(Q=o.select(t).append("svg").classed("stack-bar",!0),v()),Q.attr("width",P).attr("height",O)}function v(){var t=Q.append("g").classed("container-group",!0).attr("transform","translate("+j.left+", "+j.top+")");t.append("g").classed("background-container",!0),t.append("g").classed("x-axis-container",!0),t.append("g").classed("data-stacks-container",!0),t.append("g").classed("metadata-container",!0)}function p(){Q.select(".background-container").append("rect").attr("x",0).attr("y",0).attr("width",Y).attr("height",q).attr("fill",W).classed("background",!0)}function m(){Q.on("mousemove",g),Q.on("mouseenter",M),Q.on("mouseleave",b),Q.on("click",y)}function g(){var t=o.mouse(this);Z.call(x.bind(this,t))}function x(t){var e=A.apply(void 0,r(t));$.call(d.chartMouseMove,this,e)}function y(){var t=A.apply(void 0,r(o.mouse(this)));$.call(d.chartMouseClick,this,t)}function M(){$.call.apply($,[d.chartMouseEnter].concat(r(o.mouse(this))))}function b(){Z.clear(),$.call.apply($,[d.chartMouseLeave].concat(r(o.mouse(this))))}function k(t,e,n){return Math.min(Math.max(t,e),n)}function A(t,e){t=k(t-j.left,0,Y),e=k(e-j.top,0,q);var n=T(t);return{x:t,y:e,selectedDate:J.invert(t),data:n}}function T(t){var e=J.invert(t),n=[];return K.forEach(function(t){var r={name:t.name,interpolatedDate:e},a=t.chartDiapasons.find(function(t){return t.from<=e&&e<=t.to});a&&Object.assign(r,a),n.push(r)}),n}function D(t){var e=t.data,n=t.backgroundColor,r=t.name;if(!Array.isArray(e)||!e.length)return{chartDiapasons:[],backgroundColor:n,name:r};var a=function(t,e,n){return{color:t.color||U.next(t.name+"-"+t.value).value,value:t.value,from:e||t.date,to:n||t.date}},i=e.sort(function(t,e){return t.date-e.date}),u=[],s=a(i[0],(0,c.getDatePlusTime)(i[0].date,-H),i[0].date);u.push(s),i.length>1&&i.reduce(function(t,e){var n=(0,c.getAverageDate)(t.date,e.date),r=o.min([(0,c.getDatePlusTime)(t.date,H),n]),i=o.max([(0,c.getDatePlusTime)(e.date,-H),n]),s=a(t,t.date,r),l=a(e,i,e.date);return u.push(s,l),e});var l=i[i.length-1],d=a(l,l.date,(0,c.getDatePlusTime)(l.date,H));return u.push(d),{chartDiapasons:u,backgroundColor:n,name:r}}var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=w.width,P=void 0===_?700:_,F=w.height,O=void 0===F?120:F,C=w.margin,j=void 0===C?{top:20,right:30,bottom:40,left:40}:C,E=w.marginBetweenStacks,L=void 0===E?0:E,B=w.backgroundColor,W=void 0===B?"#CCCCCC":B,S=w.maxTimeRangeDifferenceToDraw,H=void 0===S?1296e5:S,V=w.xAxisTimeFormat,R=w.mouseMoveTimeTreshold,z=void 0===R?20:R,I=w.xAxisDateFrom,N=w.xAxisDateTo,Q=void 0,Y=void 0,q=void 0,X=void 0,G=void 0,J=void 0,K=void 0,U=(0,u.colorProvider)(),Z=(0,l.default)(z),$=o.dispatch(d.chartMouseEnter,d.chartMouseLeave,d.chartMouseMove,d.chartMouseClick);return t.width=function(t){return arguments.length?(P=t,this):P},t.height=function(t){return arguments.length?(O=t,this):O},t.margin=function(t){return arguments.length?(j=t,this):j},t.marginBetweenStacks=function(t){return arguments.length?(L=t,this):L},t.backgroundColor=function(t){return arguments.length?(W=t,this):W},t.on=function(){return $.on.apply($,arguments),this},t.maxTimeRangeDifferenceToDraw=function(t){return arguments.length?(H=t,this):H},t.xAxisTimeFormat=function(t){return arguments.length?(V=t,this):V},t.mouseMoveTimeTreshold=function(t){return arguments.length?(z=t,Z.clear(),Z=(0,l.default)(z),this):z},t.chartHeight=function(){return O-j.top-j.bottom},t.chartWidth=function(){return P-j.left-j.right},t.xAxisDateFrom=function(t){return arguments.length?(I=t,this):I},t.xAxisDateTo=function(t){return arguments.length?(N=t,this):N},t}Object.defineProperty(e,"__esModule",{value:!0}),e.chartEvents=e.stackBar=void 0;var i=n(0),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),u=n(1),c=n(3),s=n(2),l=function(t){return t&&t.__esModule?t:{default:t}}(s),d={chartMouseEnter:"chartMouseEnter",chartMouseLeave:"chartMouseLeave",chartMouseMove:"chartMouseMove",chartMouseClick:"chartMouseClick"};e.stackBar=a,e.chartEvents=d},function(t,e,n){"use strict";function r(){function t(t){t.each(function(){e(this)})}function e(t){x||(x=i.select(t).append("g").classed("marker-container",!0))}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.cx,a=void 0===r?function(t){return t.interpolatedX||t.x}:r,o=n.cy,u=void 0===o?function(t){return t.interpolatedY||t.y}:o,c=n.radius,s=void 0===c?function(){return 5}:c,l=n.fill,d=void 0===l?function(){return"white"}:l,f=n.stroke,h=void 0===f?function(t){return t.color||"red"}:f,v=n.strokeWidth,p=void 0===v?function(){return 2}:v,m=n.sort,g=void 0===m?function(){return 0}:m,x=void 0;return t.remove=function(){return x.selectAll(".marker").remove(),this},t.show=function(t){var e=t.data,n=x.selectAll(".marker").data(e.slice().sort(g).reverse());return n.enter().append("circle").classed("marker",!0).merge(n).attr("cx",function(t){return a(t)}).attr("cy",function(t){return u(t)}).attr("r",function(t){return s(t)}).style("fill",function(t){return d(t)}).style("stroke",function(t){return h(t)}).style("stroke-width",function(t){return p(t)}),n.exit().remove(),this},t.cx=function(t){return arguments.length?(a=t,this):a},t.cy=function(t){return arguments.length?(u=t,this):u},t.radius=function(t){return arguments.length?(s=t,this):s},t.fill=function(t){return arguments.length?(d=t,this):d},t.stroke=function(t){return arguments.length?(h=t,this):h},t.strokeWidth=function(t){return arguments.length?(p=t,this):p},t.sort=function(t){return arguments.length?(g=t,this):g},t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a);e.default=r},function(t,e,n){"use strict";function r(){function t(t){t.each(function(){e(this)})}function e(t){A||(A=i.select(t).append("g").classed("tooltip-container",!0))}function n(t,e,n){var r=t.append("xhtml:div").append("div").classed("tooltip-container",!0);r.append("div").classed("tooltip-header",!0).append("p").html(m(e,n)),r.append("hr");var a=r.selectAll(".topic").data(n.slice().sort(k)).enter().append("div").classed("topic",!0);return a.append("div").classed("circle",!0).style("background-color",function(t){return t.color}),a.append("div").classed("topic-name",!0).html(function(t){return x(t)}),a.append("div").classed("topic-value",!0).html(function(t){return M(t)}),{div:r,divHeight:r.node().getBoundingClientRect().height}}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.chartHeight,o=void 0===a?440:a,u=r.chartWidth,c=void 0===u?700:u,s=r.tooltipWidth,l=void 0===s?220:s,d=r.horizontalMouseMargin,f=void 0===d?40:d,h=r.verticalBorderMargin,v=void 0===h?10:h,p=r.headerFormatter,m=void 0===p?function(t){return i.timeFormat("%Y-%d-%m %H:%M:%S")(t)}:p,g=r.topicFormatter,x=void 0===g?function(t){return t.name}:g,y=r.valueFormatter,M=void 0===y?function(t){return i.format(".1f")(t.interpolatedValue)}:y,b=r.sort,k=void 0===b?function(){return 0}:b,A=void 0;return t.remove=function(){return A.select(".tooltip").remove(),this},t.show=function(e){var r=e.x,a=e.y,i=e.selectedDate,u=e.data;t.remove(),A.append("g").classed("tooltip",!0).append("rect").attr("width",l);var s=A.select(".tooltip").append("foreignObject").classed("foreign-object",!0).attr("width",l),d=n(s,i,u),h=d.divHeight;A.select(".tooltip foreignObject").attr("height",h),A.select(".tooltip rect").attr("height",h);var p=r>c/2?r-l-f:r+f,m=a+h>o-v?o-h-v:a;return A.select(".tooltip").attr("transform","translate("+p+", "+m+")"),this},t.chartHeight=function(t){return arguments.length?(o=t,this):o},t.chartWidth=function(t){return arguments.length?(c=t,this):c},t.tooltipWidth=function(t){return arguments.length?(l=t,this):l},t.horizontalMouseMargin=function(t){return arguments.length?(f=t,this):f},t.verticalBorderMargin=function(t){return arguments.length?(v=t,this):v},t.headerFormatter=function(t){return arguments.length?(m=t,this):m},t.topicFormatter=function(t){return arguments.length?(x=t,this):x},t.valueFormatter=function(t){return arguments.length?(M=t,this):M},t.sort=function(t){return arguments.length?(k=t,this):k},t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a);e.default=r},function(t,e,n){"use strict";function r(){function t(t){t.each(function(){e(this)})}function e(t){o||(o=i.select(t).append("g").classed("divider-container",!0)),o.append("line").classed("divider",!0).attr("y1",0).attr("y2",a)}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.height,a=void 0===r?440:r,o=void 0;return t.remove=function(){return o.style("display","none"),this},t.show=function(){return o.style("display","block"),this},t.update=function(t){var e=t.x;return o.select(".divider").attr("x1",e).attr("x2",e),this},t.height=function(t){return arguments.length?(a=t,this):a},t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a);e.default=r},function(t,e){},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.tooltip=e.markers=e.verticalDivider=e.chartEvents=e.stackBar=e.bar=e.line=void 0;var a=n(5),i=n(4),o=n(6),u=n(9),c=r(u),s=n(7),l=r(s),d=n(8),f=r(d);n(10),e.line=a.line,e.bar=i.bar,e.stackBar=o.stackBar,e.chartEvents=a.chartEvents,e.verticalDivider=c.default,e.markers=l.default,e.tooltip=f.default},function(t,e,n){"use strict";function r(t,e,n,r,a){var i=t.getBBox();if(e<i.x||i.x+i.width<e)return{};var o=0,u=t.getTotalLength();if("number"==typeof a){var c=a-20,s=a+20;t.getPointAtLength(c).x<e&&(o=c),t.getPointAtLength(s).x>e&&(u=s)}for(var l=(o+u)/2,d=0,f=t.getPointAtLength(l);d<n&&Math.abs(f.x-e)>r;)l=(o+u)/2,f=t.getPointAtLength(l),f.x<e?o=l:u=l,d++;return{y:f.y,pathLength:l}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r}])});